/* ───────────────── Tailwind entry points ───────────────── */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ───────────────── Base layer ───────────────── */
@layer base {
  :root {
    /* radii / shadows */
    --nf-radius-lg: 0.75rem;
    --nf-radius-xl: 1rem;
    --nf-shadow-card: 0 10px 25px -10px rgba(0,0,0,.25);

    /* neon palette */
    --nf-neon-cyan:    #22d3ee; /* cyan-400 */
    --nf-neon-fuchsia: #f0abfc; /* fuchsia-300 */
    --nf-neon-violet:  #a78bfa; /* violet-400 */
  }

  html, body { height: 100%; }

  /* Dark purple gradient page bg */
  body {
    @apply text-white antialiased;
    background:
      radial-gradient(60% 60% at 20% 10%, rgba(167,139,250,.20), transparent 60%),
      radial-gradient(70% 70% at 80% 0%, rgba(34,211,238,.12), transparent 60%),
      radial-gradient(90% 90% at 50% 100%, rgba(240,171,252,.10), transparent 60%),
      #0b0118;
  }

  h1, h2, h3 { @apply font-heading; }

  ::selection {
    background: var(--nf-neon-fuchsia);
    color: #0b0118;
  }
} /* ← END base */

/* ───────────────── Components layer ───────────────── */
@layer components {
  /* Layout helpers */
  .wrap { @apply max-w-6xl mx-auto px-4; }
  .section-pad { @apply py-14; }
  .section-narrow { @apply max-w-3xl mx-auto; }

  /* Headings */
  .heading { @apply font-heading font-extrabold tracking-tight; }
  .h1 { @apply heading text-4xl sm:text-6xl; }
  .h2 { @apply heading text-2xl sm:text-3xl; }
  .gradient-brand {
    @apply text-transparent bg-clip-text;
    background-image: linear-gradient(90deg, var(--nf-neon-violet), var(--nf-neon-cyan), var(--nf-neon-fuchsia));
    text-shadow: 0 0 18px rgba(34,211,238,.25);
  }

  /* Cards */
  .card {
    @apply rounded-xl border border-white/15;
    box-shadow: var(--nf-shadow-card);
    background: rgba(255,255,255,.04);
  }
  .neon-card {
    @apply transition;
    box-shadow: 0 0 0 rgba(0,0,0,0);
  }
  .neon-card:hover {
    box-shadow: 0 0 18px rgba(34,211,238,.25), 0 0 28px rgba(240,171,252,.22);
    transform: translateY(-2px);
  }

  /* Buttons: base + guard rails so variants are always rounded */
  .btn { @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 font-semibold rounded-lg transition; }
  .btn,
  [class*=" btn-"],
  [class^="btn-"] {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 font-semibold rounded-lg transition;
  }

  .btn-primary {
    color: #0b0118;
    background: linear-gradient(90deg, var(--nf-neon-cyan), var(--nf-neon-violet));
  }
  .btn-primary:hover { filter: brightness(1.06); }
  .btn-secondary {
    color: #0b0118;
    background: linear-gradient(90deg, var(--nf-neon-fuchsia), var(--nf-neon-cyan));
  }
  .btn-outline {
    @apply border text-white/90 hover:text-white;
    border-color: rgba(255,255,255,.35);
    background: transparent;
  }
  .btn-ghost { @apply text-white/80 hover:text-white hover:bg-white/5; }

  .badge { @apply inline-block rounded-full bg-white/10 text-white/85 text-xs font-semibold px-3 py-1 border border-white/15; }

  /* Links */
  .link-underline { @apply underline underline-offset-2 decoration-2; }

  /* Media frames */
  .video-frame { @apply relative aspect-video w-full overflow-hidden rounded-xl border border-white/15; }
  .video-iframe { @apply absolute inset-0 h-full w-full; }

  /* Glass block */
  .glass { @apply bg-white/10 backdrop-blur-md border border-white/20 rounded-xl; }

  /* Neon nav */
  .glass-neon {
    background: rgba(10,1,24,.6);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(240,171,252,.25);
    box-shadow: 0 0 15px rgba(217,70,239,.22), 0 0 35px rgba(34,211,238,.18);
  }

  .neon-logo {
    @apply font-heading text-2xl font-extrabold text-transparent bg-clip-text;
    background-image: linear-gradient(90deg, var(--nf-neon-violet), var(--nf-neon-cyan), var(--nf-neon-fuchsia));
    text-shadow: 0 0 18px rgba(34,211,238,.35);
  }

  .nav-link { @apply relative px-3 py-2 text-sm font-semibold text-white/80 transition; }
  .nav-link:hover { @apply text-white; }
  .nav-link::after {
    content: ""; position: absolute; left:.75rem; right:.75rem; bottom:.35rem; height:2px;
    background: linear-gradient(90deg, var(--nf-neon-cyan), var(--nf-neon-fuchsia), var(--nf-neon-cyan));
    box-shadow: 0 0 10px var(--nf-neon-cyan), 0 0 18px var(--nf-neon-fuchsia);
    transform: scaleX(0); transform-origin: left; transition: transform .25s ease;
  }
  .nav-link:hover::after { transform: scaleX(1); }
  .nav-link.active { @apply text-white; }
  .nav-link.active::after { transform: scaleX(1); }

  .neon-cta {
    @apply btn font-semibold;
    color: #0b0118;
    background: linear-gradient(90deg, var(--nf-neon-cyan), var(--nf-neon-violet));
    box-shadow: 0 0 12px rgba(34,211,238,.6), 0 0 28px rgba(217,70,239,.35);
  }

  .neon-outline {
    @apply inline-flex items-center justify-center rounded-lg border px-3 py-2 text-sm text-white/80 hover:text-white;
    border-color: rgba(217,70,239,.6);
    box-shadow: 0 0 10px rgba(217,70,239,.45);
  }

  .neon-bar {
    position: absolute; inset-inline: 0; bottom: 0; height: 2px;
    background: linear-gradient(90deg, transparent, var(--nf-neon-cyan) 20%, var(--nf-neon-fuchsia) 50%, var(--nf-neon-cyan) 80%, transparent);
    filter: drop-shadow(0 0 8px var(--nf-neon-cyan));
    background-size: 200% 100%;
    animation: glow-run 6s linear infinite;
  }
} /* ← END components */

/* ───────────────── Utilities layer ───────────────── */
@layer utilities {
  /* subtle float */
  @keyframes nf-float { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-6px) } }
  .animate-float { animation: nf-float 6s ease-in-out infinite; }

  /* marquee */
  @keyframes nf-marquee { 0% { transform: translateX(0) } 100% { transform: translateX(-50%) } }
  .marquee { @apply overflow-hidden; }
  .marquee-track { @apply flex gap-8 whitespace-nowrap will-change-transform; animation: nf-marquee 18s linear infinite; }

  /* tilt */
  .tilt-on-hover { @apply transition-transform; transform: perspective(800px) rotateX(0) rotateY(0); }
  .tilt-on-hover:hover { transform: perspective(800px) rotateX(2deg) rotateY(-3deg) scale(1.01); }

  /* hero readability overlay if you want a utility class */
  .hero-overlay { @apply absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent; }

  /* film look */
  .film-tone { filter: contrast(1.08) saturate(1.22) sepia(.12); }

  .film-scan {
    pointer-events: none; position: absolute; inset: 0; opacity: .22; mix-blend-mode: overlay;
    background-image: repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.05) 0,
      rgba(255,255,255,.05) 1px,
      transparent 2px,
      transparent 3px
    );
  }

  /* Use ONE-LINE data URI to avoid PostCSS parsing issues */
  .film-grain {
    pointer-events: none; position: absolute; inset: 0; opacity: .10; mix-blend-mode: overlay;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200' preserveAspectRatio='none'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='.6'/></svg>");
    background-size: cover;
    animation: nf-grain 6s steps(2,end) infinite;
  }

  .vignette {
    pointer-events: none; position: absolute; inset: 0;
    background: radial-gradient(ellipse at center, rgba(0,0,0,0) 55%, rgba(0,0,0,.42) 100%);
  }

  /* quick neon ring */
  .ring-neon { box-shadow: 0 0 14px rgba(34,211,238,.28), 0 0 24px rgba(240,171,252,.22); }

  /* CTA pulse */
  .btn-primary-glow { animation: neon-pulse 2.4s ease-in-out infinite; }
} /* ← END utilities */

/* ───────────────── Keyframes (outside layers is fine) ───────────────── */
@keyframes nf-grain {
  0%,100% { transform: translate(0,0) }
  25% { transform: translate(-5%, 5%) }
  50% { transform: translate(5%, -5%) }
  75% { transform: translate(-5%, -5%) }
}

@keyframes neon-pulse {
  0%,100% { box-shadow: 0 0 10px rgba(168,85,247,.35), 0 0 24px rgba(34,211,238,.20); }
  50%     { box-shadow: 0 0 16px rgba(34,211,238,.45), 0 0 36px rgba(240,171,252,.28); }
}

@keyframes glow-run { 0% { background-position-x: 0% } 100% { background-position-x: 200% } }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .film-grain, .btn-primary-glow, .marquee-track, .tilt-on-hover:hover { animation: none !important; transform: none !important; }
}
